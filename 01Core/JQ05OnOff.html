<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h2>on() / off() 메소드</h2>

    <div id="div1" style="background-color: red;">
        미리 생성한 div(여기를 눌러보자)
    </div>
    <button id="onMethod">on()메소드호출</button>
    <button id="offMethod">off()메소드호출</button>

    <div class="div2">
        <button>아이템추가하기</button>
        <ul>
            <li>기존아이템1</li>
            <li>기존아이템2</li>
        </ul>
    </div>
</body>
</html>
<script src="../common/jquery/jquery-3.7.1.js"></script>
<script>
/*
on() : 기본사용법은 bind()와 동일하게 엘리먼트에 이벤트를 부여할때
    사용한다. 단, 동적으로 생성된 엘리먼트에도 이벤트를 부여할 수 있다.
off() : on()으로 부여한 이벤트를 제거한다.
*/
$(document).ready(function(){
    //버튼에 click이벤트를 부여한다.
    $("#onMethod").on("click", function(){
        alert("#onMethod 버튼이 클릭되었습니다.");
    });
    //앞에서 부여한 click이벤트를 제거한다.
    $('#offMethod').on('click',function(){
        $('#onMethod').off("click");
        alert("#onMethod의 click이벤트가 해제되었습니다.");
    });
    //#div1 엘리먼트에 click이벤트를 부여한다.
    $('#div1').on('click',function(){
        alert('클릭이벤트 발생됨');
        /*
        after() : 선택한 엘리먼트 다음에 인수로 전달된 엘리먼트(컨텐츠)를
            추가한다. 즉 동위원소로 추가된다.
        */
        $(this).after("<div style='background-color:green;'>"
            + "동적으로 생성한 div</div>");
    });
    /* 여기까지만 보면 bind()와 동일한것을 볼 수 있다. */

    /* div2 클래스 하위에 button 태그를 선택하여 click 이벤트를 부여한다.
    CSS3에서 학습한 모든 select(선택자)를 jQuery에서 사용할 수 있다. */
    $(".div2 button").on("click",function(){
        /*
        append() : after()와 동일하게 선택한 엘리먼트 뒷부분에 인수로
            주어진 엘리먼트를 동적으로 추가한다. 단 <ul> 태그의 자식원소로
            추가한다. after()와는 추가하는 위치가 조금 다르다.
        */
        $(".div2 ul").append("<li>추가된 li 태그 </li>");
    });
    /*
    동적으로 생성된 (즉, 코드상으로는 존재하지 않는 엘리먼트) 엘리머트에는
    bind()를 통해서는 이벤트를 부여할 수 없다. 하지만 on()을 이용하면
    이벤트를 부여할 수 있다.
    */
    //div2 클래스에 생성된 <li>태그에 click이벤트를 부여한다.
    $(".div2").on("click","li",function(){
        /*
        css() : Javascript의 style속성과 동일하게 엘리먼트의 스타일을
            변경한다. 속성을 기술하는 방식은 JS와 동일하다. 하이픈은
            제거하고 첫번째 글자를 대문자로 기술하면된다.
        */
        $(this).css("color","red").css("fontSize","1.8em");
    });
})
</script>
<style>
    div{
        width: 200px; height: 50px; margin: 20px;
    }
</style>